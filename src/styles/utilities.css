
@tailwind utilities;

@layer utilities {
  /* iOS safe area utilities with proper height values */
  .safe-area-top {
    padding-top: env(safe-area-inset-top, 0px);
  }

  .h-safe-area-top {
    height: env(safe-area-inset-top, 0px);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .h-safe-area-bottom {
    height: env(safe-area-inset-bottom, 0px);
  }
  
  /* iOS-specific padding utilities */
  .pt-safe {
    padding-top: env(safe-area-inset-top, 0px);
  }
  
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Enhanced page transition utilities */
  .page-transition {
    @apply transition-all duration-300 ease-in-out;
  }

  .loading-indicator {
    @apply animate-pulse bg-accent/20 rounded;
  }

  /* iOS-specific layout helper classes */
  .ios-status-bar-spacer {
    height: env(safe-area-inset-top, 0px);
    display: block;
    width: 100%;
    background-color: inherit;
  }
  
  .ios-bottom-spacer {
    height: env(safe-area-inset-bottom, 0px);
    display: block;
    width: 100%;
    background-color: inherit;
  }
  
  .ios-navbar {
    padding-top: env(safe-area-inset-top, 0px);
  }
  
  /* Dynamic viewport heights for iOS */
  .h-screen-ios {
    height: 100vh; /* Fallback */
    height: -webkit-fill-available;
    height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }
  
  .min-h-screen-ios {
    min-height: 100vh; /* Fallback */
    min-height: -webkit-fill-available;
    min-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }

  /* Modern viewport height values */
  .h-dvh {
    height: 100dvh;
  }
  
  .min-h-dvh {
    min-height: 100dvh;
  }
  
  .h-svh {
    height: 100svh;
  }
  
  .min-h-svh {
    min-height: 100svh;
  }
  
  /* Bottom safe area for content - adjusted values */
  .pb-safe-bottom {
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 0.75rem);
  }
  
  /* Bottom nav safe area spacer - adjusted values */
  .pb-nav-safe {
    padding-bottom: calc(64px + env(safe-area-inset-bottom, 0px));
  }
}
